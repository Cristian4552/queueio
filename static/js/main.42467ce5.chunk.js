(this["webpackJsonpprojet-final"]=this["webpackJsonpprojet-final"]||[]).push([[0],{15:function(e,t,n){},30:function(e,t,n){},37:function(e){e.exports=JSON.parse("{}")},38:function(e){e.exports=JSON.parse("{}")},39:function(e){e.exports=JSON.parse("{}")},40:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),s=n(22),o=n.n(s),i=(n(30),n(15),n(2)),l=n.n(i),u=n(23),m=n(4),j=n(3),p=n(8),d=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(r.jsx)(p.b,{to:"/",className:"navbar-brand",children:"queue.io"}),Object(r.jsx)("div",{className:"collapse navbar-collapse",id:"navbarColor01",children:Object(r.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(r.jsx)("li",{className:"nav-item active",children:Object(r.jsxs)(p.b,{to:"/",className:"nav-link",children:["Accueil - Commerces ",Object(r.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(r.jsx)("li",{className:"nav-item active",children:Object(r.jsx)(p.b,{to:"/login",className:"nav-link",children:"Se connecter"})})]})})]})})})},b=n.p+"static/media/logo.6ce24c58.svg",h=function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"card bg-light mb-3",id:"carte-commerce",children:[Object(r.jsxs)("div",{className:"card-header",children:[Object(r.jsx)("img",{src:b,alt:"Logo",width:"100px"}),e.nom]}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h5",{className:"card-title",children:"Informations utiles"}),Object(r.jsxs)("p",{className:"card-text",children:["Addresse: ",e.addresse]}),Object(r.jsxs)("p",{className:"card-text",children:["Nombre de personnes en file: ",e.nbPersonnesEnFile," personnes."]}),Object(r.jsxs)("p",{className:"card-text",children:["Temps d'attente approximatif: ",e.tempsAttenteApprox," minutes."]}),Object(r.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return e.onClickHandler(e.id)},children:"Prendre un num\xe9ro"})]})]})})};n(37),n(38);var f=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)("clear"),i=Object(j.a)(o,2),p=i[0],b=(i[1],Object(c.useState)([])),f=Object(j.a)(b,2),x=f[0],O=f[1],v=Object(c.useState)([]),g=Object(j.a)(v,2),y=g[0],N=g[1],_=Object(c.useState)([]),k=Object(j.a)(_,2),w=k[0],C=k[1];Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){var n,c,a,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n=e.sent,c=new Map,a=Object(u.a)(n),e.prev=5,a.s();case 7:if((s=a.n()).done){e.next=15;break}return o=s.value,console.log(o.id),e.next=12,r(o.id);case 12:c[o.id]=e.sent;case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:N(c);case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))).apply(this,arguments)}function t(){return n.apply(this,arguments)}function n(){return(n=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,O(n),S(n),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(e){return c.apply(this,arguments)}function c(){return(c=Object(m.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/redis/listClient/"+t);case 2:return n=e.sent,e.prev=3,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.length);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var S=function(e){C(e)};Object(c.useEffect)((function(){var e=x.filter((function(e){return e.nom.toLowerCase().includes(a.toLowerCase())}));"clear"!==p&&(e=e.filter((function(e){return e.filtre_id===p}))),C(e)}),[a,p]);var q=function(t){var n=t;e.history.push({pathname:"/info-client",state:n})};return Object(r.jsxs)("div",{children:[Object(r.jsx)(d,{}),Object(r.jsx)("h1",{id:"bienvenue",children:"Bienvenue!"}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"input-recherche",value:a,placeholder:"Rechercher des commerces",onChange:function(e){return s(e.target.value)}}),Object(r.jsx)("h1",{className:"liste-commerces",children:"Liste de commerces"}),Object(r.jsxs)("div",{className:"vue-commerces",children:[Object(r.jsx)("div",{className:"div-filtre"}),Object(r.jsx)("div",{className:"conteneur-commerces",children:w.map((function(e,t){return Object(r.jsx)(h,{nom:e.nom,id:e.id,addresse:e.adresse,nbPersonnesEnFile:y[e.id],tempsAttenteApprox:5*y[e.id],onClickHandler:q},"commerce-".concat(t))}))})]})]})},x=n(12),O=n(5);var v=function(e){var t=e.location&&e.location.state||"",n=Object.freeze({name:"",phone:"",commerceId:t,code:""}),a=Object(c.useState)(n),s=Object(j.a)(a,2),o=s[0],i=s[1],u=Object(c.useState)(!1),p=Object(j.a)(u,2),b=p[0],h=p[1];Object(c.useEffect)((function(){console.log(t)}),[]);var f=function(e){i(Object(O.a)(Object(O.a)({},o),{},Object(x.a)({},e.target.name,e.target.value.trim())))};return Object(r.jsxs)("div",{children:[Object(r.jsx)(d,{}),Object(r.jsxs)("form",{className:"form-client",children:[Object(r.jsxs)("div",{className:"form-group",hidden:b,children:[Object(r.jsx)("label",{htmlFor:"nomInput",children:"Entrez votre nom"}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"nomInput",name:"name","aria-describedby":"name",onChange:f,required:!0})]}),Object(r.jsxs)("div",{className:"form-group",hidden:b,children:[Object(r.jsx)("label",{htmlFor:"telephone",children:"Entrez votre num\xe9ro de t\xe9l\xe9phone"}),Object(r.jsx)("input",{type:"tel",className:"form-control",id:"telephone",name:"phone",onChange:f,required:!0})]}),Object(r.jsx)("button",{className:"btn btn-primary",hidden:b,onClick:function(e){function t(){return(t=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/envoyerVerification?phonenumber=".concat(o.phone,"&channel=sms"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),h(!0),function(){t.apply(this,arguments)}()},children:"Se mettre en ligne"}),Object(r.jsxs)("div",{className:"form-group",hidden:!b,children:[Object(r.jsx)("label",{htmlFor:"code",children:"Entrez le code de v\xe9rification re\xe7u par SMS"}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"code",name:"code",onChange:f})]}),Object(r.jsx)("button",{className:"btn btn-success",hidden:!b,onClick:function(t){function n(){return r.apply(this,arguments)}function r(){return(r=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/recevoirVerification?phonenumber=".concat(o.phone,"&code=").concat(o.code));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",200===t.status);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(m.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:if(!t.sent){t.next=6;break}return t.next=5,a();case 5:e.history.push({pathname:"/file-attente",state:o});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return s.apply(this,arguments)}function s(){return(s=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/prendreNumero/"+o.commerceId+","+o.phone+","+o.name,{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.preventDefault(),function(){c.apply(this,arguments)}()},children:"Valider"})]})]})},g=(n(39),n(6));var y=function(e){var t=Object(g.f)(),n=e.location&&e.location.state||"",a=Object(c.useState)({}),s=Object(j.a)(a,2),o=s[0],i=s[1],u=Object(c.useState)({}),p=Object(j.a)(u,2),b=p[0],h=p[1],f=Object(c.useState)({}),x=Object(j.a)(f,2),O=(x[0],x[1]),v=Object(c.useState)({}),y=Object(j.a)(v,2),N=y[0],_=y[1],k=Object(c.useState)([]),w=Object(j.a)(k,2),C=w[0],S=w[1],q=Object(c.useState)([]),F=Object(j.a)(q,2),L=(F[0],F[1]),E=Object(c.useState)([]),I=Object(j.a)(E,2),P=I[0],D=I[1];return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.next=4,c();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return r.apply(this,arguments)}function r(){return(r=Object(m.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/commerceById/".concat(n.commerceId));case 2:return t=e.sent,e.next=5,t.json();case 5:void 0!==(r=e.sent)&&0!==r.length&&h(r[0]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return a.apply(this,arguments)}function a(){return(a=Object(m.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/redis/listClient/".concat(n.commerceId));case 2:return t=e.sent,e.next=5,t.json();case 5:void 0!==(r=e.sent)&&0!==r.length&&(D("commerce"+n.commerceId+"Client"+r[r.length-1]),O(r),_(r),S(r[r.length-1]),L(r[0]));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),i(n),console.log(n)}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(d,{}),Object(r.jsxs)("div",{className:"file-attente",children:[Object(r.jsxs)("h2",{children:["Bienvenue! ",o.name," "]}),Object(r.jsxs)("h3",{children:["Vous \xeates dans la fille d'attente pour: ",b.nom,"  "]}),Object(r.jsxs)("div",{className:"card border-info mb-3",id:"carte-file-attente",children:[Object(r.jsx)("div",{className:"card-header",children:"Votre fille d'attente"}),Object(r.jsxs)("div",{className:"card-body text-info",children:[Object(r.jsxs)("h5",{className:"card-title",children:["Votre num\xe9ro est le: ",C,"   "]}),Object(r.jsxs)("p",{className:"card-text",children:["Il y a pr\xe9sentement: ",N.length-1,"  personnes devant vous."]}),Object(r.jsxs)("p",{className:"card-text",children:["Le temps d'attente est d'environ: ",5*(N.length-1)," minutes."]})]})]}),Object(r.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return c.apply(this,arguments)}function c(){return(c=Object(m.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/deleteClientList/"+n.commerceId+","+P);case 2:return t=e.sent,e.next=5,t;case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log(P),function(){e.apply(this,arguments)}(),t.push("/")},children:"Quitter la file d'attente"})]})]})};var N=function(e){var t=Object.freeze({email:"",password:""}),n=Object(c.useState)(t),a=Object(j.a)(n,2),s=a[0],o=a[1],i=[],u=function(e){o(Object(O.a)(Object(O.a)({},s),{},Object(x.a)({},e.target.name,e.target.value.trim())))};return Object(r.jsxs)("div",{children:[Object(r.jsx)(d,{}),Object(r.jsx)("div",{className:"form-wrapper",children:Object(r.jsx)("div",{id:"divFormulaire",children:Object(r.jsxs)("form",{onSubmit:function(t){function n(){return(n=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/login/".concat(s.email).concat("/").concat(s.password));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.preventDefault(),function(){return n.apply(this,arguments)}().then((function(t){var n;void 0===(n=t)||0===n.length?alert("Mauvais email ou mot de passe."):(i=n[0],e.history.push({pathname:"/commerceConfig",state:i.id}))}))},className:"text-center border border-light p-5",children:[Object(r.jsx)("p",{className:"h4 mb-4",children:"Sign in"}),Object(r.jsxs)("div",{className:"email",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)("input",{type:"email",className:"form-control mb-4",name:"email",onChange:u,placeholder:"Enter email"})]}),Object(r.jsxs)("div",{className:"password",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{className:"form-control mb-4",type:"password",name:"password",onChange:u,placeholder:"Enter password"})]}),Object(r.jsx)("div",{className:"submit",children:Object(r.jsx)("button",{className:"btn btn-info btn-block my-4",type:"submit",children:"Soumettre"})}),Object(r.jsx)(p.b,{to:"/inscription",children:Object(r.jsx)("button",{type:"button",className:"btn btn-info btn-block my-4",children:"S'inscrire"})})]})})})]})};var _=function(e){var t=Object(g.f)(),n=Object.freeze({nomDuCommerce:"",adresse:"",email:"",password:""}),a=Object(c.useState)(n),s=Object(j.a)(a,2),o=s[0],i=s[1],l=function(e){i(Object(O.a)(Object(O.a)({},o),{},Object(x.a)({},e.target.name,e.target.value.trim())))};return Object(r.jsxs)("div",{children:[Object(r.jsx)(d,{}),Object(r.jsx)("h1",{children:"Inscription"}),Object(r.jsx)("div",{id:"divFormulaire",children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://queueio.herokuapp.com/commerceinscription/".concat(o.nomDuCommerce,"/",o.adresse,"/",o.email,"/",o.password),{method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)})),t.push("/login")},className:"text-center border border-light p-5",children:[Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("div",{className:"nomDuCommerce",children:Object(r.jsx)("input",{className:"form-control mb-4",type:"text",id:"nomDuCommerce",name:"nomDuCommerce",placeholder:"Nom Du Commerce",required:!0,maxLength:"50",autoFocus:!0,onChange:l})}),Object(r.jsx)("div",{className:"email",children:Object(r.jsx)("input",{className:"form-control mb-4",type:"email",name:"email",placeholder:"Enter email",required:!0,onChange:l})}),Object(r.jsx)("div",{className:"password",children:Object(r.jsx)("input",{className:"form-control mb-4",type:"password",name:"password",placeholder:"Enter password",required:!0,onChange:l})}),Object(r.jsxs)("div",{className:"adresse",children:[Object(r.jsx)("label",{htmlFor:"story",children:"Adresse"}),Object(r.jsx)("textarea",{className:"form-control mb-4",id:"adresse",name:"adresse",rows:"3",cols:"10",required:!0,onChange:l})]})]}),Object(r.jsx)("div",{className:"submit",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-info btn-block my-4",children:"Soumettre"})}),Object(r.jsx)("div",{className:"quitter",children:Object(r.jsx)(p.b,{to:"/",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-info btn-block my-4",children:"Quitter"})})})]})})]})},k=function(e){var t=e.commerceId,n=e.props;return Object(r.jsx)("div",{children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(r.jsx)(p.b,{to:"/",className:"navbar-brand",children:"queue.io"}),Object(r.jsx)("div",{className:"collapse navbar-collapse",id:"navbarColor01",children:Object(r.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(r.jsx)("li",{className:"nav-item active",children:Object(r.jsxs)(p.b,{to:"/CommerceConfig",className:"nav-link",children:["Accueil - Profil ",Object(r.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(r.jsx)("li",{className:"nav-link active",id:"stat-link",onClick:function(e){n.history.push({pathname:"/statistique",state:t})},children:"Statistiques"}),Object(r.jsx)("li",{className:"nav-item active",children:Object(r.jsx)(p.b,{to:"/",className:"nav-link",children:"Se d\xe9connecter"})})]})})]})})})};var w=function(e){var t=e.location&&e.location.state||3,n=Object(c.useState)([]),a=Object(j.a)(n,2),s=a[0],o=a[1],i=Object(c.useState)(!0),u=Object(j.a)(i,2),p=u[0],d=u[1],h=Object(c.useState)({nom:"John",courriel:"abc@mail.com",mot_passe:"badoing"}),f=Object(j.a)(h,2),v=f[0],g=f[1],y=Object(c.useState)({horaire_ouverture:"08:00",horaire_fermeture:"22:00"}),N=Object(j.a)(y,2),_=N[0],w=N[1],C=Object(c.useState)([]),S=Object(j.a)(C,2),q=S[0],F=S[1],L=Object(c.useState)([]),E=Object(j.a)(L,2),I=E[0],P=E[1],D=Object(c.useState)(""),A=Object(j.a)(D,2),B=A[0],T=A[1],M=Object(c.useState)({filtre_id:"1",couleur:"#C1BBBA",employee_id:"2",logo:"logo",nb_clients_max:"10",horaire_id:"2",nb_minutes_retard:"5",temps_moyen_clients:"10"}),V=Object(j.a)(M,2),z=V[0],J=V[1],R=Object(c.useState)({filtre_id:"1",couleur:"#C1BBBA",employee_id:"2",logo:"logo",nb_clients_max:"10",horaire_id:"2",nb_minutes_retard:"5",temps_moyen_clients:"10"}),H=Object(j.a)(R,2),U=H[0],Q=H[1],G=Object(c.useState)({nom:"RBC",adresse:"123 rue maisoneyve",courriel:"apple@mail.com",mot_passe:"apple123"}),K=Object(j.a)(G,2),W=K[0],X=K[1],Y=Object(c.useState)({nom:"RBC",adresse:"123 rue maisoneyve",courriel:"apple@mail.com",mot_passe:"apple123"}),Z=Object(j.a)(Y,2),$=Z[0],ee=Z[1];Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return e.next=4,n();case 4:return e.next=6,s();case 6:return e.next=8,u();case 8:return e.next=10,p();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return r.apply(this,arguments)}function r(){return(r=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/commerceConfigId/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:void 0!==(r=e.sent)&&0!==r.length&&(r[0].couleur="#".concat(r[0].couleur),J(r[0]),Q(r[0]),T(r[0].filtre_id),d(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return a.apply(this,arguments)}function a(){return(a=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/commerceById/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:void 0!==(r=e.sent)&&0!==r.length&&(X(r[0]),ee(r[0]));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return i.apply(this,arguments)}function i(){return(i=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/filtre");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/employeByIdCommerce/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:void 0!==(r=e.sent)&&0!==r.length&&(g(r[0]),P(r[0]));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return b.apply(this,arguments)}function b(){return(b=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/horaire/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:void 0!==(r=e.sent)&&0!==r.length&&(w(r[0]),F(r[0]));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var te=function(e){switch(console.log(e.target.name),e.target.name){case"nom":case"adresse":case"courriel":case"mot_passe":X(Object(O.a)(Object(O.a)({},W),{},Object(x.a)({},e.target.name,e.target.value)));break;case"filtre_id":T(e.target.value),J(Object(O.a)(Object(O.a)({},z),{},{filtre_id:e.target.value}));break;case"couleur":case"nb_clients_max":case"horaire_id":case"nb_minutes_retard":case"temps_moyen_clients":J(Object(O.a)(Object(O.a)({},z),{},Object(x.a)({},e.target.name,e.target.value.trim())));break;case"employe_courriel":g(Object(O.a)(Object(O.a)({},v),{},{courriel:e.target.value.trim()}));break;case"employe_mot_passe":g(Object(O.a)(Object(O.a)({},v),{},{mot_passe:e.target.value.trim()}));break;case"horaire_ouverture":case"horaire_fermeture":w(Object(O.a)(Object(O.a)({},_),{},Object(x.a)({},e.target.name,e.target.value.trim())))}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(k,{commerceId:t,props:e}),Object(r.jsxs)("p",{children:["Commerce ID : ",t]}),Object(r.jsxs)("div",{id:"divFormulaire",children:[Object(r.jsxs)("form",{onSubmit:function(e){function n(){return(n=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.next=4,a();case 4:return e.next=6,o();case 6:return e.next=8,u();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return c.apply(this,arguments)}function c(){return(c=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/commerceConfig/"+z.filtre_id+"/"+z.logo+"/"+z.couleur.substring(1)+"/"+z.nb_minutes_retard+"/"+z.nb_clients_max+"/"+z.temps_moyen_clients+"/"+t,{method:p?"POST":"PUT"});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return s.apply(this,arguments)}function s(){return(s=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/commerceupdate/"+W.nom+","+W.adresse+","+W.courriel+","+W.mot_passe+","+t,{method:"PUT"});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return i.apply(this,arguments)}function i(){return(i=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/horaire/"+_.horaire_ouverture+"/"+_.horaire_fermeture+"/"+t,{method:p?"POST":"PUT"});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(l.a.mark((function e(){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p?"employecreation/":"updateemployee/",e.next=3,fetch("https://queueio.herokuapp.com/"+n+v.nom+","+v.courriel+","+v.mot_passe+","+t,{method:p?"POST":"PUT"});case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,console.log(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),console.log("commerce info :",W),console.log("commerce config :",z),console.log("employe :",v),console.log("horaire :",_),console.log(p),function(){n.apply(this,arguments)}(),alert("Les modifications ont \xe9t\xe9 sauvegard\xe9es!")},className:"form-config",children:[Object(r.jsx)("h1",{children:"Configuration du Commerce"}),Object(r.jsxs)("fieldset",{className:"fieldset-config",children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsx)("img",{className:"logo-commerce",alt:"",src:b})}),Object(r.jsxs)("div",{className:"nomDuCommerce",children:[Object(r.jsx)("label",{htmlFor:"nom",children:"Nom Du Commerce"}),Object(r.jsx)("input",{className:"form-control mb-4",value:W.nom||"",type:"text",id:"nomDuCommerce",name:"nom",onChange:te,required:"required",maxLength:"50",autoFocus:!0})]}),Object(r.jsxs)("div",{className:"adresse",children:[Object(r.jsx)("label",{htmlFor:"adresse",children:"Adresse"}),Object(r.jsx)("input",{className:"form-control mb-4",id:"adresse",value:W.adresse||"",name:"adresse",maxLength:"100",onChange:te,required:!0})]}),Object(r.jsxs)("div",{className:"email",children:[Object(r.jsx)("label",{htmlFor:"courriel",children:"Email"}),Object(r.jsx)("input",{className:"form-control mb-4",value:W.courriel||"",type:"email",name:"courriel",onChange:te})]}),Object(r.jsxs)("div",{className:"password",children:[Object(r.jsx)("label",{htmlFor:"mot_passe",children:"Password"}),Object(r.jsx)("input",{className:"form-control mb-4",type:"text",value:W.mot_passe||"",name:"mot_passe",onChange:te})]}),Object(r.jsxs)("div",{className:"filtre",children:[Object(r.jsx)("label",{htmlFor:"filtre_id",children:"La cat\xe9gorie de votre commerce"}),Object(r.jsx)("select",{name:"filtre_id",className:"form-control mb-4",value:B||"",id:"filtre",onChange:te,children:s.map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.nom_filtre},t)}))})]}),Object(r.jsxs)("div",{className:"color",children:[Object(r.jsx)("label",{htmlFor:"couleur",children:"La couleur th\xe8me de votre commerce"}),Object(r.jsx)("input",{className:"form-control mb-4",type:"color",value:z.couleur||"",name:"couleur",onChange:te})]}),Object(r.jsxs)("div",{className:"employeeEmail",children:[Object(r.jsx)("label",{htmlFor:"employee_id",children:"Le courriel utilis\xe9 pour la connexion de l'employ\xe9"}),Object(r.jsx)("input",{className:"form-control mb-4",type:"text",value:v.courriel||"",name:"employe_courriel",onChange:te})]}),Object(r.jsxs)("div",{className:"employeePassword",children:[Object(r.jsx)("label",{htmlFor:"employeePassword",children:"Le mot de passe utilis\xe9 pour la connexion de l'employ\xe9"}),Object(r.jsx)("input",{className:"form-control mb-4",type:"text",value:v.mot_passe||"",name:"employe_mot_passe",onChange:te})]}),Object(r.jsxs)("div",{className:"maxClientDansCommerce",children:[Object(r.jsx)("label",{htmlFor:"nb_clients_max",children:"Maximum de clients dans le commerce"}),Object(r.jsx)("input",{className:"form-control mb-4",type:"text",id:"maxClientDansCommerce",value:z.nb_clients_max||"",name:"nb_clients_max",onChange:te,required:"required",maxLength:"50"})]}),Object(r.jsxs)("div",{className:"horaireOuverture",children:[Object(r.jsx)("label",{htmlFor:"horaire_ouverture",children:"Horaire d'Ouverture:"}),Object(r.jsx)("input",{type:"time",className:"form-control mb-4",id:"horaire_ouverture",value:_.horaire_ouverture||"",name:"horaire_ouverture",onChange:te,min:"06:00",max:"23:00",required:!0})]}),Object(r.jsxs)("div",{className:"horaire_fermeture",children:[Object(r.jsx)("label",{htmlFor:"horaire_fermeture",children:"Horaire de fermeture:"}),Object(r.jsx)("input",{type:"time",className:"form-control mb-4",id:"horaire_fermeture",value:_.horaire_fermeture||"",name:"horaire_fermeture",onChange:te,min:"06:00",max:"23:00",required:!0})]}),Object(r.jsxs)("div",{className:"maxMinuteRetard",children:[Object(r.jsx)("label",{htmlFor:"nb_minutes_retard",children:"Le temps maximum d'attente de retard (en minutes)"}),Object(r.jsx)("input",{type:"number",className:"form-control mb-4",id:"maxMinuteRetard",value:z.nb_minutes_retard||"",min:"0",name:"nb_minutes_retard",onChange:te,required:"required",maxLength:"50"})]}),Object(r.jsxs)("div",{className:"tempsMoyenClient",children:[Object(r.jsx)("label",{htmlFor:"temps_moyen_clients",children:"Le temps moyen qu'un client passe dans le commerce (en minutes)"}),Object(r.jsx)("input",{type:"number",className:"form-control mb-4",id:"tempsMoyenClient",value:z.temps_moyen_clients||"",min:"0",name:"temps_moyen_clients",onChange:te,required:"required",maxLength:"50"})]}),Object(r.jsx)("div",{id:"submit",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg btn-block",children:"Sauvegarder les modifications"})})]})]}),Object(r.jsx)("div",{id:"quitter",children:Object(r.jsx)("button",{className:"btn btn-secondary btn-lg btn-block",name:"annuler",onClick:function(e){switch(e.target.name){case"annuler":console.log(U),J(U),X($),g(I),w(q),console.log("btn annuler")}},children:"Annuler les modifications"})}),Object(r.jsx)("div",{className:"bottom-space",children:"Some text"})]})]})};var C=function(e){var t=e.location&&e.location.state||[],n=Object(c.useState)({nb_client_jour:"",nb_client_mois:"",nb_client_annee:"",temp_moyen_attendre:"",temp_moyen_client_commerce:""}),a=Object(j.a)(n,2),s=a[0],o=a[1];Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://queueio.herokuapp.com/commerceStatistiques/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){console.log(e),i(e[0])}))}),[]);var i=function(e){o(e)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(k,{}),Object(r.jsxs)("div",{className:"statistique-wrapper",children:[Object(r.jsx)("p",{className:"h4 mb-4",id:"message-stat",children:"Voici votre page de statistiques de votre commerce"}),Object(r.jsxs)("div",{className:"stat-info",children:[Object(r.jsxs)("ul",{className:"list-group",id:"texte-stat",children:[Object(r.jsx)("li",{className:"list-group-item",children:"Moyenne de clients par jour"}),Object(r.jsx)("li",{className:"list-group-item",children:"Moyenne de clients par mois"}),Object(r.jsx)("li",{className:"list-group-item",children:"Moyenne de clients par ann\xe9e"}),Object(r.jsx)("li",{className:"list-group-item",children:"Temps moyen d'attente en file (en minutes)"}),Object(r.jsx)("li",{className:"list-group-item",children:"Temps moyen qu'un client passe dans le commerce (en minutes)"})]}),Object(r.jsxs)("ul",{className:"list-group",id:"chiffre-stat",children:[Object(r.jsx)("li",{className:"list-group-item",children:s.nb_client_jour}),Object(r.jsx)("li",{className:"list-group-item",children:s.nb_client_mois}),Object(r.jsx)("li",{className:"list-group-item",children:s.nb_client_annee}),Object(r.jsx)("li",{className:"list-group-item",children:s.temp_moyen_attendre}),Object(r.jsx)("li",{className:"list-group-item",children:s.temp_moyen_client_commerce})]})]}),Object(r.jsx)("button",{type:"button",className:"btn btn-info btn-block my-4",id:"btn-stat",onClick:function(n){e.history.push({pathname:"/commerceConfig",state:t})},children:"Retour au profil"})]})]})},S=n(9);var q=function(){var e=Object(S.a)();return Object(r.jsx)(p.a,{history:e,children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(g.c,{children:[Object(r.jsx)(g.a,{component:v,path:"/info-client"}),Object(r.jsx)(g.a,{component:y,path:"/file-attente"}),Object(r.jsx)(g.a,{component:N,path:"/login"}),Object(r.jsx)(g.a,{component:_,path:"/inscription"}),Object(r.jsx)(g.a,{component:w,path:"/commerceConfig"}),Object(r.jsx)(g.a,{component:C,path:"/statistique"}),Object(r.jsx)(g.a,{component:f,path:"/"})]})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(q,{})}),document.getElementById("root")),F()}},[[40,1,2]]]);
//# sourceMappingURL=main.42467ce5.chunk.js.map